{
    "swagger": "2.0",
    "info": {
        "version": "1.0.0",
        "title": "Telarix Service API",
        "description": "Interface between Telarix Service and Telarix Client Service"
    },
    "schemes": [
        "http"
    ],
    "host": "dev1web2012:3000",
    "paths": {
        "/GetFinancialData": {
            "get": {
                "tags": [
                    "Telarix Service API"
                ],
                "description": "Get financial data from Telarix",
                "operationId": "GetFinancialData",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Transmission"
                        }
                    }
                }
            }
        },
        "/GetFile": {
            "get": {
                "tags": [
                    "Telarix Service API"
                ],
                "description": "To get information of certain file from Telarix",
                "operationId": "GetFile",
                "parameters": [
                    {
                        "name": "filename",
                        "in": "query",
                        "description": "The name of file",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/BinaryData"
                        }
                    },
                    "500": {
                        "description": "File cannot be read"
                    }
                }
            }
        },
        "/TransactionResponse": {
            "post": {
                "tags": [
                    "Telarix Service API"
                ],
                "description": "Send processing result to Telarix",
                "operationId": "TransactionResponse",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "description": "The result of transmission processing",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/TransmissionResponse"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        }
    },
    "definitions": {
        "Transmission": {
            "type": "object",
            "description": "Financial data in Json format from Telarix",
            "properties": {
                "TransmissionID": {
                    "type": "string",
                    "description": "ID of transmission"
                },
                "Statements": {
                    "type": "array",
                    "description": "Collection of entities (invoice,dispute,nort,document)",
                    "items": {
                        "$ref": "#/definitions/Statement"
                    }
                }
            }
        },
        "Statement": {
            "type": "object",
            "description": "The object of statement list",
            "properties": {
                "InvoiceRecord": {
                    "$ref": "#/definitions/InvoiceRecord"
                },
                "DisputeRecord": {
                    "$ref": "#/definitions/DisputeRecord"
                },
                "Nort": {
                    "$ref": "#/definitions/Nort"
                },
                "Document": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "InvoiceRecord": {
            "type": "object",
            "description": "Entity, which contains information about invoice",
            "properties": {
                "TelarixInvoiceID": {
                    "type": "string",
                    "description": "Id of Telarix Invoice"
                },
                "AccountID": {
                    "type": "string",
                    "description": "Id of Carrier Finacial account"
                },
                "CurrencyID": {
                    "type": "string",
                    "description": "Invoice currency"
                },
                "TransactionType": {
                    "type": "string",
                    "description": "Type of transaction (Periodic Carrier Bill, Monthly Carrier Bill, Misc Credit from Carrier, Misc Debit from Carrier)\"\""
                },
                "BillNumber": {
                    "type": "string",
                    "description": "Bill number"
                },
                "BillDate": {
                    "type": "string",
                    "description": "Bill date"
                },
                "ServiceStart": {
                    "type": "string",
                    "description": "Start date of invoice"
                },
                "ServiceEnd": {
                    "type": "string",
                    "description": "End date of invoice"
                },
                "Amount": {
                    "type": "string",
                    "description": "Invoice amount"
                },
                "VATAmount": {
                    "type": "string",
                    "description": "VAT Amount of Invoice"
                },
                "EntityCurrencyAmount": {
                    "type": "string",
                    "description": "Currency amount of account entity"
                },
                "EntityCurrencyVAT": {
                    "type": "string",
                    "description": "Currency VAT amount of account entity"
                },
                "FXRate": {
                    "type": "string",
                    "description": "Conversion rate of invoice"
                },
                "Notes": {
                    "type": "array",
                    "description": "Additional information of invoice",
                    "items": {
                        "$ref": "#/definitions/Note"
                    }
                }
            }
        },
        "DisputeRecord": {
            "type": "object",
            "description": "Entity, which contains information about dispute",
            "properties": {
                "TelarixInvoiceID": {
                    "type": "string",
                    "description": "Id of Telarix Invoice"
                },
                "AccountID": {
                    "type": "string",
                    "description": "Id of Carrier Finacial account"
                },
                "RateOpen": {
                    "type": "string",
                    "description": "Open rate of dispute"
                },
                "MinutesOpen": {
                    "type": "string",
                    "description": "Open minutes of dispute"
                },
                "ClassOpen": {
                    "type": "string",
                    "description": "Open class of dispute"
                },
                "VATOpen": {
                    "type": "string",
                    "description": "Open VAT of dispute"
                },
                "TotalOpen": {
                    "type": "string",
                    "description": "Open Total of dispute"
                },
                "Notes": {
                    "type": "array",
                    "description": "Additional information of dispute",
                    "items": {
                        "$ref": "#/definitions/Note"
                    }
                }
            }
        },
        "Nort": {
            "type": "object",
            "description": "Entity, which contains information about nort",
            "properties": {
                "TelarixInvoiceID": {
                    "type": "string",
                    "description": "Id of Telarix Invoice"
                },
                "NonMarket": {
                    "type": "string",
                    "description": "Amount of NonMarket"
                },
                "Competitive": {
                    "type": "string",
                    "description": "Amount of competetive"
                },
                "Notes": {
                    "type": "array",
                    "description": "Additional information of nort",
                    "items": {
                        "$ref": "#/definitions/Note"
                    }
                }
            }
        },
        "Note": {
            "type": "object",
            "description": "Additional information of entity",
            "properties": {
                "CreateDate": {
                    "type": "string",
                    "description": "Date of note creation"
                },
                "CreatedBy": {
                    "type": "string",
                    "description": "The creator of the note"
                },
                "Note": {
                    "type": "string",
                    "description": "Additional information of entity"
                }
            }
        },
        "BinaryData": {
            "type": "object",
            "description": "Binary data of file"
        },
        "TransmissionResponse": {
            "type": "object",
            "description": "The response of certain transimission",
            "properties": {
                "ResponseDate": {
                    "type": "string",
                    "description": "Date and time of response to Telarix"
                },
                "ResponseStatus": {
                    "type": "string",
                    "description": "The status of transmission"
                },
                "Responses": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Response"
                    }
                },
                "TransmissionDate": {
                    "type": "string",
                    "description": "Date and time of transmission from Telarix"
                },
                "TransmissionID": {
                    "type": "string",
                    "description": "ID of transmission"
                }
            }
        },
        "Response": {
            "type": "object",
            "description": "Response of certain entity",
            "properties": {
                "Entity": {
                    "type": "string",
                    "description": "Type of entity (Invoice, Nort, Dispute, Document)"
                },
                "ErrorCodes": {
                    "type": "string",
                    "description": "Code of error"
                },
                "ErrorDescription": {
                    "type": "string",
                    "description": "Description of error"
                },
                "Status": {
                    "type": "string",
                    "description": "Status of certain entity"
                },
                "TelarixInvoiceID": {
                    "type": "string",
                    "description": "Id of Invoice"
                }
            }
        }
    }
}